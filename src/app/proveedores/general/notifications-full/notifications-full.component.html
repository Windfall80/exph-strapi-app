<mat-card class="actividad-card app-modal-shadow pb-4">
  <mat-card-title>
    Actividad
    <div class="card-tools">
      <a mat-icon-button color="accent" [disabled]="!_unread">
        <mat-icon [matBadge]="_unread" matBadgePosition="before" [matBadgeHidden]="!_unread">notifications</mat-icon>
      </a>
    </div>
  </mat-card-title>
  <mat-card-content>
    <mat-nav-list class="notification-list" *ngIf="_notifications.length">
      <mat-divider></mat-divider>
      <ng-container *ngFor="let n of _notifications">
        <!-- list-item -->
        <a mat-list-item (click)="onClick($event, n)">
          <div mat-line class="notification-msg">
            <span class="notification-status" [class.unread]="!n.read"></span>
            <p [innerHtml]="n.message"></p>
          </div>

          <div class="list-item-end">
            <span class="date">{{ n.created_at | date:'dd/MM/yyyy' }}</span>
            <span class="user">{{ n.user?.firstname + " " + n.user?.lastname }}</span>
          </div>
        </a>
        <mat-divider></mat-divider>
        <!-- /list-item -->
      </ng-container>
    </mat-nav-list>
    <ng-container *ngIf="!_notifications.length">
      <span class="no-notifications pt-3">
        No hay notificaciones.
      </span>
    </ng-container>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button color="warn" class="btn-xs" (click)="onDeleteAll()"><mat-icon>delete_forever</mat-icon>Borrar todas</button>
  </mat-card-actions>
</mat-card>
